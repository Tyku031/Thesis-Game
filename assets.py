from os import path

import pygame


# Static methods
def get_asset_from_name(assets, name):
	"""
	:param list[Asset] assets: The list of assets to search through
	:param str name: The name of the asset to find
	:return: Returns Asset on success or None on failure
	"""
	for asset in assets:
		if asset.name == name:
			return asset
	return None


# Populate induvidual assets in a tilesheet (currently hardcoded). Returns a list with Asset objects
# Assets loads collumn per collumn (x -> y)
def populate_assets():
	"""
	Populate induvidual assets in a tilesheet (currently hardcoded). Returns a list with Asset objects.\n
	Assets loads collumn per collumn (x -> y).

	:return: Returns a list of assets
	"""
	# Define list with image chunks
	assets = []
	# Open the tilesheet
	# colored_packed.png is 16x16, currently is hardcoded to this file
	sheet = pygame.image.load(
		path.join(path.dirname(__file__), 'assets/visual/Tilesheet/colored_transparent_packed.png'))
	# index = 0  # is used to know how many iterations we have done (x*22+y = index)
	for x in range(48):
		for y in range(22):
			# assets.append(Asset(get_name(x*22+y), sheet.subsurface(pygame.Rect((16*x, 16*y), (16, 16))), x*22+y, (16*x, 16*y)))
			assets.append(Asset(get_name(x * 22 + y), sheet.subsurface(pygame.Rect((16 * x, 16 * y), (16, 16)))))
	# Debugging:
	for asset in assets:
		print(f"[LOG] (ASSETS) Loaded asset: {asset.name}\033[0m")
	return assets


# Returns name of asset
def get_name(index):
	"""
	:param int index: The index (ID) where to look for the name
	:return: Returns name string at the index location on success or "unknown" on failure
	"""
	# A python switch case
	# TODO: fully populate names (only 1056 lol)
	switch = {
		# Column 0
		0: "empty",
		1: "tree_0",
		2: "fern",
		3: "fence_red_low",
		4: "fence_white_low",
		5: "rails_01000100",
		6: "metal_construction_0",
		7: "sign_0",
		9: "door_blue_locked",
		10: "lock_blue_locked",
		11: "button_blue_locked",
		12: "chimney",
		13: "brick_white",
		14: "gravestone_0",
		15: "skull_human",
		16: "roof_part_00011100",
		17: "roof_part_01111100",
		18: "roof_part_01110000",
		19: "house_red_0",
		20: "house_red_2",
		21: "house_white_0",
		# Column 1
		22: "path_stone_0",
		23: "tree_1",
		24: "plant_0",
		25: "fence",
		26: "fence_white_1",
		27: "rails_white_00010100",
		28: "metal_construction_0",
		29: "sign_1",
		30: "cart_red_0",
		31: "door_blue_fading",
		32: "plate_blue_up",
		33: "stairs_brick",
		34: "roof_white",
		35: "wall_window_barred",
		36: "gravestone_1",
		37: "skull_animal",
		38: "roof_part_00011111",
		39: "roof_part_11111111",
		40: "roof_part_11110001",
		41: "house_red_1",
		42: "house_red_3",
		43: "house_white_1",
		# Column 2
		44: "path_stone_1",
		45: "tree_2",
		46: "plant_1",
		47: "fence_high",
		48: "fence_white_broken",
		49: "rails_white_01010100",
		50: "stairs_red_0",
		51: "mail_box",
		52: "cart_red_1",
		53: "door_blue_open",
		54: "plate_blue_down",
		55: "brick_half",
		56: "roof_top_down",
		57: "wall_window",
		58: "gravestone_2",
		59: "web",
		60: "roof_part_00000111",
		61: "roof_part_11000111",
		62: "roof_part_11000001",
		63: "castle_0",
		64: "pyramid",
		65: "house_white_2",
		# Column 3
		66: "path_stone_2",
		67: "forest_0",
		68: "forest_1",
		69: "fence_red_gate",
		70: "fence_white_gate",
		71: "rails_1111",
		72: "stairs_red_1",
		73: "bookshelf",
		74: "cart_half",
		75: "door_red_0",
		76: "lever_left",
		77: "pillar_top",
		78: "pillar_mid",
		79: "pillar_bottom",
		80: "bars_floor",
		81: "candle_red",
		82: "roof_point_0110",
		83: "roof_point_1100",
		84: "roof_point_0",
		85: "castle_white_1",
		86: "school",
		87: "apartment_0",

		# Column 4
		88: "path_stone_3",
		89: "tree_3",
		90: "tree_4",
		91: "fence_red_gate_open",
		92: "fence_white_gate_open",
		93: "rails_white_broken",
		94: "stairs_red_2",
		95: "bookshelf_skull",
		96: "cart_red_mid",
		97: "door_red_1",
		98: "lever_right",
		99: "bars_blue_locked",
		100: "coffin",
		101: "brick_open",
		102: "fireplace",
		103: "torch_yellow",
		104: "roof_point_0011",
		105: "roof_point_1001",
		106: "roof_point_1",
		107: "castle_white_2",
		108: "house_white_3",
		109: "apartment_1",
		# Column 5
		110: "grass_0",
		111: "tree_5",
		112: "stones",
		113: "fence_white_barred",
		114: "fence_white_barred_gate",
		115: "fence_white_barred_ground",
		116: "shelf_with_books",
		117: "cabinet_red_0",
		118: "bed_red",
		119: "door_red_2",
		120: "door_white_0",
		121: "roof_red_0",
		122: "roof_red_left",
		123: "roof_red_top_0",
		124: "cauldron",
		125: "candles_yellow",
		126: "wall_fireplace_0",
		127: "wall_fireplace_1",
		128: "wall_fireplace_2",
		129: "castle_white_3",
		130: "house_white_4",
		131: "apartment_2",
		# Column 6
		132: "grass_1",
		133: "cactus",
		134: "bush",
		135: "fence_white_barred_broken",
		136: "bridge_white_0",
		137: "bridge_red_0",
		138: "pillars_red",
		139: "cabinet_red_1",
		140: "bed_red_left",
		141: "door_red_3",
		142: "door_white_1",
		143: "roof_red_1",
		144: "roof_red_top",
		145: "wall_red_0",
		146: "wall_red_top_0",
		147: "wall_red_broken",
		148: "wall_door_0",
		149: "wall_door_1",
		150: "wall_door_2",
		151: "castle_white_4",
		152: "tent_white",
		153: "apartment_3",
		# Column 7
		154: "grass3",
		155: "cacti",
		156: "palm_tree",
		157: "metal_bar_10000011",
		158: "bridge_white_1",
		159: "bridge_red_1",
		160: "hole",
		161: "cabinet_red_2",
		162: "bed_red_right",
		163: "door_red_4",
		164: "door_white_2",
		165: "roof_red_2",
		166: "roof_red_right",
		167: "roof_red_top_1",
		168: "wall_red_top_1",
		169: "wall_red_1",
		170: "white_wall_part_1011",
		171: "white_wall_part_1111",
		172: "white_wall_thick",
		173: "castle_white_5",
		174: "tent_red",
		175: "apartment_4",
		# Column 8
		# path_{type}_{upleft}{up}{upright}{right}{bottomright}{bottom}{bottomleft}{left}
		176: "path_road_01000100",
		177: "path_dirt_01000100",
		178: "path_railed_01000100",
		179: "metal_bar_11100011",
		# water_{upleft}{up}{upright}{right}{bottomright}{bottom}{bottomleft}{left}
		180: "water_01000100",
		181: "water_11111111",
		182: "chest_red_0",
		183: "cabinet_red_3",
		184: "chimney_white_fume",
		185: "door_red_5",
		186: "door_white_3",
		187: "door_white_7",
		188: "pipe_red_0",
		189: "pillar_white_0",
		190: "cabinet_white_0",
		191: "wall_white_open_0",
		192: "wall_white_part_1010",
		193: "wall_door_3",
		194: "wall_door_4",
		195: "castle_white_5",
		196: "house_red_4",
		197: "house_red_5",
		# Column 9
		198: "path_road_00010100",
		199: "path_dirt_00010100",
		200: "path_railed_00010100",
		201: "metal_bar_00000010",
		202: "water_00010100",
		203: "water_01111100",
		204: "chest_red_1",
		205: "cabinet_red_4",
		206: "chimney_white_thick_fume",
		207: "door_red_6",
		208: "door_white_4",
		209: "door_white_8",
		210: "pipe_red_1",
		211: "pillar_white_1",
		212: "cabinet_white_1",
		213: "wall_white_open_1",
		214: "wall_white_part_1101",
		215: "wall_white_part_0101",
		216: "wall_white_part_0111",
		217: "boat_red_0",
		218: "tank_white_0",
		219: "cart_red_small_0",
		# Column 10
		220: "path_road_01010100",
		221: "path_dirt_01010100",
		222: "path_railed_01010100",
		223: "metal_bar_10111011",
		224: "water_01010100",
		225: "water_00011100",
		226: "chest_white_0",
		227: "cabinet_red_5",
		228: "unknown_0",
		229: "door_red_7",
		230: "door_white_5",
		231: "door_white_9",
		232: "pipe_red_2",
		233: "box_red",
		234: "cabinet_white_2",
		235: "roof_wood_left",
		236: "wall_wood_pillar_right",
		237: "wall_white",
		238: "wall_white_pillar_mid",
		239: "boat_red_1",
		240: "tank_white_1",
		241: "cart_red_small_1",
		# Column 11
		242: "path_road_01010101",
		243: "path_dirt_01010101",
		244: "path_railed_01010101",
		245: "metal_bar_11111011",
		246: "water_01010101",
		247: "water_01111111",
		248: "chest_white_1",
		249: "sink_white",
		250: "furnace_white",
		251: "chair_white_0",
		252: "door_white_6",
		253: "door_white_10",
		254: "pipe_red_3",
		255: "pillar_white_filled",
		256: "rope",
		257: "roof_wood_top",
		258: "wall_wood_pillar_sides",
		259: "wall_white_window",
		260: "wall_white_pillar_sides",
		261: "boat_red_2",
		262: "tank_white_2",
		263: "cart_red_small_2",
		# Column 12
		264: "path_road_00000100",
		265: "path_dirt_00000100",
		266: "path_railed_00000100",
		267: "metal_bar_00111010",
		268: "water_00000100",
		269: "water_thin_01000100",
		270: "farmland",
		271: "cabinet_white_3",
		272: "oven_white",
		273: "chair_white_1",
		274: "toilet_white_0",
		275: "door_white_11",
		276: "chain",
		277: "chain_hook",
		278: "conveyor_0",
		279: "roof_wood_right",
		280: "wall_wood_pillar_left",
		281: "wall_white_window_barred",
		282: "checkerboard_red",
		283: "truck_left_0",
		284: "truck_left_1",
		285: "submarine_0",
		# Column 13
		286: "line_red_0",
		287: "stripes_red_1010",
		288: "pipe_white_0_0010",
		289: "pipe_white_1_0010",
		290: "pipe_white_2_0010",
		291: "water_thin_00010100",
		292: "crop_0",
		293: "cabinet_white_4",
		294: "sink_white_small",
		295: "toilet_white_1",
		296: "bath",
		297: "door_white_12",
		298: "fire_hydrant",
		299: "dish_red_0",
		300: "conveyor_1",
		301: "wall_wood_window",
		302: "wall_wood",
		303: "wall_white_hole",
		304: "box_cross_red",
		305: "truck_right_0",
		306: "truck_right_1",
		307: "submarine_1",
		# Column 14
		308: "line_red_1",
		309: "stripes_red_1100",
		310: "pipe_white_0_1010",
		311: "pipe_white_1_1010",
		312: "pipe_white_2_1010",
		313: "water_blob",
		314: "crop_1",
		315: "sign_bed",
		316: "sign_hanging_bed",
		317: "cart_white_0",
		318: "fireplace_fire",
		319: "roadwork_fence",
		320: "unknown_1",
		321: "dish_red_1",
		322: "pillar_wood_0",
		323: "pillar_metal_0",
		324: "wall_wood_window_barred",
		325: "wall_red_window",
		326: "comet_blue",
		327: "ufo_0",
		328: "ufo_1",
		329: "submarine_2",
		# Column 15
		330: "line_red_2",
		331: "stripes_red_1101",
		332: "pipe_white_0_0110",
		333: "pipe_white_1_0110",
		334: "pipe_white_2_0110",
		335: "bridge_wood_left",
		336: "crop_2",
		337: "sign_drink",
		338: "sign_hanging_drink",
		339: "cart_white_1",
		340: "fire",
		341: "dish_white_0",
		342: "comet_blue_0",
		343: "cart_white_2",
		344: "pillar_wood_1",
		345: "pillar_metal_1",
		346: "wall_wood_window_closed",
		347: "wall_red_window_open",
		348: "comet_blue_1",
		349: "jetpack_blue",
		350: "fume_pillar_top",
		351: "fume_pillar_mid",
		# Column 16
		352: "floor_pattern_0",
		353: "stripes_red_1111",
		354: "pipe_white_0_1111",
		355: "pipe_white_1_1111",
		356: "pipe_white_2_1111",
		357: "bridge_wood_mid",
		358: "crop_3",
		359: "sign_square",
		360: "lines_wood_1101",
		361: "lines_wood_0101",
		362: "cart_wood_0",
		363: "pillar_wood_2",
		364: "bricks_0",
		365: "castle_part_11100011",
		366: "castle_part_10000011",
		367: "castle_part_10001111",
		368: "wall_part_0_11100011",
		369: "wall_part_0_10000011",
		370: "wall_part_0_10001111",
		371: "wall_part_1_11100011",
		372: "wall_part_1_10000011",
		373: "wall_part_1_10001111",
		# Column 17
		374: "floor_pattern_1",
		375: "stripes_red_1110",
		376: "pipe_white_0_1110",
		377: "pipe_white_1_1110",
		378: "pipe_white_2_1110",
		379: "bridge_wood_broken",
		380: "crop_4",
		381: "finish_red",
		382: "flag_red_0",
		383: "flag_red_1",
		384: "cart_wood_1",
		385: "pillar_wood_3",
		386: "bricks_1",
		387: "castle_part_11100000",
		388: "castle_part_11111111",
		389: "castle_part_00001110",
		390: "wall_part_0_11100000",
		391: "wall_part_0_11111111",
		392: "wall_part_0_00001110",
		393: "wall_part_1_11100000",
		394: "wall_part_1_11111111",
		395: "wall_part_1_00001110",
		# Column 18
		396: "brick_wall_part_11100011",
		397: "brick_wall_part_10000011",
		398: "brick_wall_part_10001111",
		399: "brick_part_00001000",
		400: "brick_part_00100000",
		# Column 24
		528: "mage1",
		529: "mage2",
		530: "mage3",
		# Column 25
		550: "player1",
		551: "player2",
		552: "player3",
		787: "number0",
		931: "axe"
	}
	return switch.get(index, "unkown")


class Asset:
	def __init__(self, name, img):
		"""
		:param str name: The name identifier of the asset
		:param pygame.surface.Surface img: The image of the asset

		"""
		self.name = name
		self.image = img
